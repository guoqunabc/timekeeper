# 🕐 会议计时器 TimeKeeper

一个专业的会议演讲计时器，功能完善、界面美观，适合各种会议场景。**纯HTML/JS，零依赖，双击即用！**

[![GitHub](https://img.shields.io/badge/GitHub-guoqun1/time_keeper-blue.svg)](git@git.n.xiaomi.com:guoqun1/time_keeper.git)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

---

## ✨ 核心特性

- ⚡ **零依赖运行** - 无需安装、无需服务器，双击HTML文件直接使用
- 🎯 **简洁大屏** - 高对比度数字显示，适合投屏/大屏幕展示
- ⏰ **智能警告** - 最后1分钟黄色闪烁警告，超时红色动态提示
- 📋 **议程模式** - 预设演讲者列表，自动顺序执行，无需手动切换
- 📊 **记录管理** - 自动保存所有演讲记录，支持导出CSV/JSON
- 🎨 **配置面板** - 可视化添加/编辑/导入/导出演讲者议程
- 💾 **数据持久化** - 本地存储，刷新/关闭页面不丢失数据
- 🔤 **字体一致** - 内置本地字体文件，保证多端显示效果一致

---

## 🚀 快速开始（30秒上手）

### 方式一：直接使用（最简单）

1. **打开页面** - 双击 `计时器.html` 文件
2. **输入信息** - 填写演讲者姓名和时间
3. **开始计时** - 点击"开始"或按空格键
4. **结束计时** - 点击"停止"并确认

**就这么简单！**

---

## 📖 完整使用指南

### 一、基础模式（适合临时使用）

**操作流程：**
```
1. 输入演讲者姓名
2. 设置时间（分钟 + 秒数）
3. 点击"开始" 或 按空格键
4. 结束后点击"停止"并确认
5. 自动保存记录，准备下一位
```

**提示：**
- ⌨️ **空格键** = 开始/停止
- ⌨️ **ESC键** = 重置计时器（未开始时）
- 🎨 **最后1分钟**：数字变黄色并闪烁
- 🔴 **超时后**：数字变红色并动态闪烁

---

### 二、议程模式（适合正式会议）

**准备工作：**
1. 点击右上角 ⚙ 按钮打开配置面板
2. 添加演讲者（姓名 + 时间）
3. 点击"保存并应用"

**自动流程：**
```
演讲者1 → 结束 → 自动切换 → 演讲者2 → 结束 → 自动切换 → ...
```

**配置面板功能：**
- ✅ 添加/删除演讲者
- ✅ 修改姓名和时间
- ✅ 拖拽排序演讲者顺序
- ✅ 导入议程（支持 CSV/JSON 文件）
- ✅ 导出议程（生成备份文件）
- ✅ 清空所有议程

---

## 🎯 配置指南

### 方式一：图形化配置（推荐新手）

1. 点击右上角 ⚙ 按钮
2. 点击 "+ 添加演讲者"
3. 填写姓名和时间
4. 可拖拽调整顺序
5. 点击"保存并应用"

**小技巧：** 配置面板支持拖拽 CSV/JSON 文件直接导入！

### 方式二：编辑配置文件（高级用户）

编辑 `会议议程配置.js`：

```javascript
window.TIMEKEEPER_CONFIG = {
    speakers: [
        { name: "张三", minutes: 5, seconds: 0 },
        { name: "李四", minutes: 10, seconds: 0 },
        { name: "王五", minutes: 3, seconds: 30 }
    ]
};
```

**规则说明：**
- `speakers` 数组不为空 → 自动启用议程模式
- `speakers: []` → 回到基础模式
- 修改后刷新页面即可生效

---

## 📊 记录管理

### 查看记录
所有演讲记录自动显示在底部区域，包含：
- 演讲者姓名
- 总时长
- 超时时长（如有）
- 记录时间

### 管理记录
- 🗑️ **删除单条** - 点击记录右侧的 × 按钮
- 🧹 **清空所有** - 点击底部"清空"按钮
- 📥 **导出CSV** - 点击"导出"按钮，生成Excel可打开的文件

### 状态恢复
- ✅ 刷新页面 → 保持当前计时状态
- ✅ 12小时内关闭页面 → 自动恢复计时
- ✅ 记录永久保存 → 除非手动清空

---

## 📁 项目结构

```
计时器/
├── 📄 计时器.html              # ← 直接双击这个文件使用
├── ⚙️  会议议程配置.js          # 配置文件
├── 📁 src/
│   └── Timer.js                # 核心代码（无需修改）
├── 📁 fonts/                   # 字体文件
│   ├── Arial.ttf
│   └── DINPro-Regular.otf
├── 📁 tests/                   # 测试文件
│   ├── 兼容性测试.html
│   ├── 自动化测试.html
│   ├── 运行测试.sh
│   └── 测试说明.md
├── 📄 配置示例1.csv            # 议程导入示例
├── 📄 配置示例2.json           # 议程导入示例
└── 📄 说明文档.md              # ← 你现在看的就是这个
```

---

## 🧪 测试说明

### 自动化测试（可选）

```bash
# 进入测试目录
cd tests

# 运行所有测试
./运行测试.sh

# 或运行特定测试
./运行测试.sh compatibility   # 兼容性测试
./运行测试.sh automated        # API功能测试
```

### 手动测试

1. 双击 `tests/兼容性测试.html` - 检测浏览器兼容性
2. 双击 `tests/自动化测试.html` - 运行功能测试

详细说明请查看 [测试说明.md](tests/测试说明.md)

---

## 🎹 快捷键一览

| 按键 | 功能 |
|------|------|
| 空格键 | 开始/停止计时 |
| ESC | 重置计时器（未开始时） |
| Enter | 确认停止（对话框中） |

---

## ❓ 常见问题

### Q1: 如何回到基础模式？
**A:** 清空所有议程（配置面板 → 清空 → 保存并应用）

### Q2: 计时被意外中断了怎么办？
**A:** 12小时内重新打开页面，会自动恢复到中断时的状态

### Q3: 如何备份议程配置？
**A:** 配置面板 → 导出 → 选择格式（JSON或CSV）→ 保存文件

### Q4: 支持哪些浏览器？
**A:** 现代浏览器均可（Chrome、Edge、Firefox、Safari等），推荐Chrome

### Q5: 导出的CSV如何查看？
**A:** 用Excel、WPS表格或任何文本编辑器打开

---

## 📝 更新日志

### 最新功能
- ✨ 可视化议程配置面板
- ✨ 支持CSV/JSON导入导出
- ✨ 拖拽排序演讲者
- ✨ 状态自动恢复（12小时）

### 核心功能
- ⏰ 精确计时与智能警告
- 📋 演讲记录管理
- 🎨 专业深色界面
- 📱 响应式设计

---

## 📄 许可证

[MIT](LICENSE)

---

## 💡 使用提示

1. **首次使用** - 先用基础模式熟悉操作
2. **正式会议** - 提前用配置面板设置好议程
3. **备份议程** - 导出JSON文件作为备份
4. **大屏幕投屏** - 全屏模式（F11）效果最佳
5. **记录导出** - 会议结束后导出记录用于统计

**祝使用愉快！** 🎉
